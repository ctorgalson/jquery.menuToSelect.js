(function(b){b.fn.menuToSelect=function(e,g){if(0<e.length){var a=b.extend({},{baseUrl:"",form:"<form><div></div></form>",formId:"menu-to-select--form",hideOriginal:!0,optgroup:"<optgroup/>",optgroupLabelPattern:"",option:"<option/>",select:"<select/>",selectId:"menu-to-select--select",selectLabel:""},g),j=e.css({display:a.hideOriginal?"none":"block"}),f=b(a.form).attr({id:a.formId}).addClass("menuToSelect"),h=b(a.select).attr({id:a.selectId}).change(function(){window.location.href=b(this).val()}),
k=b(a.selectLabel).attr({"for":a.selectId});j.children().each(function(e,f){var c=b(f),d=b(f).children("a"),i=d.attr("href"),c=c.children("ul"),d=d.text();b(a.option).attr({value:a.baseUrl+i,selected:window.location.pathname===i}).text(d).appendTo(h);if(0<c.length){var g=b(a.optgroup).attr({label:""!==a.optgroupLabelPattern?a.optgroupLabelPattern.replace(/\%p/,d):""}).appendTo(h);c.children("li").children("a").each(function(f,d){var c=b(d),e=c.attr("href");b(a.option).attr({value:a.baseUrl+e,selected:window.location.pathname===
e}).text(c.text()).appendTo(g)})}});f.find("div").append(k,h);return f}return b()}})(jQuery);