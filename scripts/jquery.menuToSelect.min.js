(function(b){b.fn.menuToSelect=function(g,j){var a=b.extend({},{baseUrl:"",form:"<form><div></div></form>",formId:"menu-to-select--form",hideOriginal:!0,optgroup:"<optgroup/>",optgroupLabelPattern:"",option:"<option/>",select:"<select/>",selectId:"menu-to-select--select",selectLabel:""},j),k=g.css({display:a.hideOriginal?"none":"block"}),c=b(a.form).attr({id:a.formId}).addClass("menuToSelect"),d=b(a.select).attr({id:a.selectId}).change(function(){window.location.href=b(this).val()}),l=b(a.selectLabel).attr({"for":a.selectId});
k.children().each(function(c,h){var e=b(h),f=b(h).children("a"),i=f.attr("href"),e=e.children("ul"),f=f.text();b(a.option).attr({value:a.baseUrl+i,selected:window.location.pathname===i}).text(f).appendTo(d);if(0<e.length){var g=b(a.optgroup).attr({label:""!==a.optgroupLabelPattern?a.optgroupLabelPattern.replace(/\%p/,f):""}).appendTo(d);e.children("li").children("a").each(function(f,e){var c=b(e),d=c.attr("href");b(a.option).attr({value:a.baseUrl+d,selected:window.location.pathname===d}).text(c.text()).appendTo(g)})}});
c.find("div").append(l,d);return c}})(jQuery);